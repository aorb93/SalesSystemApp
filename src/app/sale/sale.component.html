<div class="container">
  <div class="row">
    <div class="col-lg-3 col-md-4 col-sm-12">
      <mat-form-field >
        <mat-select (selectionChange)="selectClientOpt($event)" placeholder="Clientes" [(ngModel)]="clientSelect" [value]="clientId" [panelClass]="'panel-override'">
          <mat-option *ngFor="let c of selectClient" [value]="c.clientId">{{c.clientName}}</mat-option>
        </mat-select>
      </mat-form-field> 
    </div>
    <div class="col-lg-3 col-md-4 col-sm-6">
      <mat-form-field>
        <mat-select (selectionChange)="selectProductOpt($event)" placeholder="Productos" [(ngModel)]="productSelect" [value]="productId">
          <mat-option *ngFor="let p of selectProduct" [value]="p.productId">{{p.productName}}</mat-option>
        </mat-select>
      </mat-form-field> 
    </div>
    <div class="col-lg-3 col-md-4 col-sm-6" style="text-align: center;">
      <button class="btn btn-info btn-sm margin-btn-group-right" id="addButton" (click)="addProduct()">
        <mat-icon class="padding-btn-icon">add</mat-icon>
      </button>
      <button class="btn btn-info btn-sm" id="cleanButton" (click)="cleanTable()">
        <mat-icon class="padding-btn-icon">autorenew</mat-icon>
      </button>
    </div>
  </div>
  
  <div *ngIf="showTable">
    <table mat-table [dataSource]="addSelectProduct" class="mat-elevation-z4">
      <ng-contanier matColumnDef="productId">
          <th mat-header-cell *matHeaderCellDef>Id</th>
          <td mat-cell *matCellDef="let product"> {{ product.productId }} </td>
      </ng-contanier>
      <ng-contanier matColumnDef="productName">
          <th mat-header-cell *matHeaderCellDef>Nombre</th>
          <td mat-cell *matCellDef="let product"> {{ product.productName }} </td>
      </ng-contanier>
      <ng-contanier matColumnDef="price">
          <th mat-header-cell *matHeaderCellDef>Precio</th>
          <td mat-cell *matCellDef="let product"> {{ product.price | currency:'USD':'symbol' }} </td>
      </ng-contanier>
      <ng-contanier matColumnDef="quantity">
        <th mat-header-cell *matHeaderCellDef>Cantidad</th>
        <td mat-cell *matCellDef="let product">
          <mat-button-toggle-group #group="matButtonToggleGroup">
            <mat-button-toggle (change)="onChange(group)" (click)="subtract(product.productId)"  >
              <mat-icon class="{{product.iconColor}}">{{ product.iconRemove }}</mat-icon>
            </mat-button-toggle>
            <mat-button-toggle (change)="onChange(group)">{{ product.quantitySale }}</mat-button-toggle>
            <mat-button-toggle (change)="onChange(group)" (click)="add(product.productId)">
              <mat-icon class="text-info">add</mat-icon>
            </mat-button-toggle>
          </mat-button-toggle-group>
        </td>
      </ng-contanier>
      
      <tr mat-header-row *matHeaderRowDef="columns"></tr>
      <tr mat-row *matRowDef="let row; columns: columns"></tr>
    </table>

    <br><br>
    <div class="col-lg-3 col-md-4 col-sm-8 offset-lg-9 offset-md-8 offset-sm-4">
      <div class="input-group">
        <input type="text" class="form-control" placeholder="Recipient's username" readonly value="Total: {{ total | currency:'USD':'symbol' }}">
        <button class="btn btn-success" id="saleButton" (click)="sale()">
          <mat-icon class="padding-btn-icon">attach_money</mat-icon>
        </button>
      </div>
    </div>
    <br>
  </div>
</div>