<div>
  <section>
    <div>
      <mat-form-field>
        <mat-select (selectionChange)="selectClientOpt($event)" placeholder="Clientes" [(ngModel)]="clientSelect" [value]="clientId">
          <mat-option *ngFor="let c of selectClient" [value]="c.clientId">{{c.clientName}}</mat-option>
        </mat-select>
      </mat-form-field> 
    </div>
  </section>
  <section>
    <div>
      <mat-form-field>
        <mat-select (selectionChange)="selectProductOpt($event)" placeholder="Productos" [(ngModel)]="productSelect" [value]="productId">
          <mat-option *ngFor="let p of selectProduct" [value]="p.productId">{{p.productName}}</mat-option>
        </mat-select>
      </mat-form-field> 
    </div>
    <div class="example-button-row">
      <div class="example-flex-container">
        <div class="example-button-container">
          <button mat-mini-fab color="primaty" id="addButton" (click)="addProduct()">
            <mat-icon>add</mat-icon>
          </button>
        </div>
        <div class="example-button-container">
          <button mat-mini-fab color="primaty" id="cleanButton" (click)="cleanTable()">
            <mat-icon>autorenew</mat-icon>
          </button>
        </div>
      </div>
    </div>
  </section>
</div>

<div *ngIf="showTable">
  <table mat-table [dataSource]="addSelectProduct" class="mat-elevation-z4">
    <ng-contanier matColumnDef="productId">
        <th mat-header-cell *matHeaderCellDef>Id</th>
        <td mat-cell *matCellDef="let product"> {{ product.productId }} </td>
    </ng-contanier>
    <ng-contanier matColumnDef="productName">
        <th mat-header-cell *matHeaderCellDef>Nombre</th>
        <td mat-cell *matCellDef="let product"> {{ product.productName }} </td>
    </ng-contanier>
    <ng-contanier matColumnDef="price">
        <th mat-header-cell *matHeaderCellDef>Precio</th>
        <td mat-cell *matCellDef="let product"> {{ product.price | currency:'USD':'symbol' }} </td>
    </ng-contanier>
    <ng-contanier matColumnDef="quantity">
      <th mat-header-cell *matHeaderCellDef>Cantidad</th>
      <td mat-cell *matCellDef="let product">
        <mat-button-toggle-group #group="matButtonToggleGroup">
          <mat-button-toggle (change)="onChange(group)" (click)="subtract(product.productId)"  >
            <mat-icon class="{{product.iconColor}}">{{ product.iconRemove }}</mat-icon>
          </mat-button-toggle>
          <mat-button-toggle (change)="onChange(group)">{{ product.quantitySale }}</mat-button-toggle>
          <mat-button-toggle (change)="onChange(group)" (click)="add(product.productId)">
            <mat-icon class="text-info">add</mat-icon>
          </mat-button-toggle>
        </mat-button-toggle-group>
      </td>
  </ng-contanier>
    
    <tr mat-header-row *matHeaderRowDef="columns"></tr>
    <tr mat-row *matRowDef="let row; columns: columns"></tr>
  </table>

  <br><br>
  <section>
    <p>Total: {{ total | currency:'USD':'symbol' }}</p>
    <div class="example-button-row">
      <div class="example-flex-container">
        <div class="example-button-container">
          <button mat-mini-fab color="primary" id="saleButton" (click)="sale()">
            <mat-icon>attach_money</mat-icon>
          </button>
        </div>
      </div>
    </div>
  </section>
</div>

